"use strict";var cov_14wfg0kcxg=function(){var path="/home/sami/Documents/AutoMart/src/mid/verifyToken.js";var hash="bf4acb11b3896cabd22f0e752ef7cfb06f47c328";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/sami/Documents/AutoMart/src/mid/verifyToken.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:15},end:{line:8,column:57}},"3":{start:{line:10,column:14},end:{line:10,column:55}},"4":{start:{line:12,column:18},end:{line:12,column:64}},"5":{start:{line:14,column:20},end:{line:14,column:67}},"6":{start:{line:16,column:39},end:{line:16,column:95}},"7":{start:{line:18,column:10},end:{line:18,column:36}},"8":{start:{line:20,column:0},end:{line:20,column:28}},"9":{start:{line:22,column:0},end:{line:22,column:39}},"10":{start:{line:23,column:0},end:{line:25,column:4}},"11":{start:{line:26,column:0},end:{line:26,column:39}},"12":{start:{line:27,column:0},end:{line:29,column:4}},"13":{start:{line:31,column:18},end:{line:50,column:1}},"14":{start:{line:32,column:22},end:{line:32,column:47}},"15":{start:{line:34,column:2},end:{line:47,column:3}},"16":{start:{line:35,column:18},end:{line:35,column:88}},"17":{start:{line:37,column:4},end:{line:37,column:27}},"18":{start:{line:38,column:4},end:{line:38,column:11}},"19":{start:{line:40,column:4},end:{line:40,column:33}},"20":{start:{line:41,column:4},end:{line:41,column:30}},"21":{start:{line:42,column:4},end:{line:46,column:7}},"22":{start:{line:49,column:2},end:{line:49,column:15}},"23":{start:{line:52,column:15},end:{line:52,column:26}},"24":{start:{line:53,column:0},end:{line:53,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:16,column:9},end:{line:16,column:31}},loc:{start:{line:16,column:37},end:{line:16,column:97}},line:16},"1":{name:"verifyToken",decl:{start:{line:31,column:27},end:{line:31,column:38}},loc:{start:{line:31,column:55},end:{line:50,column:1}},line:31}},branchMap:{"0":{loc:{start:{line:16,column:46},end:{line:16,column:94}},type:"cond-expr",locations:[{start:{line:16,column:70},end:{line:16,column:73}},{start:{line:16,column:76},end:{line:16,column:94}}],line:16},"1":{loc:{start:{line:16,column:46},end:{line:16,column:67}},type:"binary-expr",locations:[{start:{line:16,column:46},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:67}}],line:16}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"bf4acb11b3896cabd22f0e752ef7cfb06f47c328"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_14wfg0kcxg.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_14wfg0kcxg.s[1]++;exports["default"]=void 0;var _express=(cov_14wfg0kcxg.s[2]++,_interopRequireDefault(require("express")));var _dotenv=(cov_14wfg0kcxg.s[3]++,_interopRequireDefault(require("dotenv")));var _bodyParser=(cov_14wfg0kcxg.s[4]++,_interopRequireDefault(require("body-parser")));var _jsonwebtoken=(cov_14wfg0kcxg.s[5]++,_interopRequireDefault(require("jsonwebtoken")));function _interopRequireDefault(obj){cov_14wfg0kcxg.f[0]++;cov_14wfg0kcxg.s[6]++;return(cov_14wfg0kcxg.b[1][0]++,obj)&&(cov_14wfg0kcxg.b[1][1]++,obj.__esModule)?(cov_14wfg0kcxg.b[0][0]++,obj):(cov_14wfg0kcxg.b[0][1]++,{"default":obj});}var app=(cov_14wfg0kcxg.s[7]++,(0,_express["default"])());cov_14wfg0kcxg.s[8]++;_dotenv["default"].config();cov_14wfg0kcxg.s[9]++;app.use(_bodyParser["default"].json());cov_14wfg0kcxg.s[10]++;app.use(_bodyParser["default"].urlencoded({extended:false}));cov_14wfg0kcxg.s[11]++;app.use(_bodyParser["default"].text());cov_14wfg0kcxg.s[12]++;app.use(_bodyParser["default"].json({type:'application/json'}));cov_14wfg0kcxg.s[13]++;var verifyToken=function verifyToken(req,res,next){cov_14wfg0kcxg.f[1]++;var authorization=(cov_14wfg0kcxg.s[14]++,req.headers.authorization);cov_14wfg0kcxg.s[15]++;try{var decoded=(cov_14wfg0kcxg.s[16]++,_jsonwebtoken["default"].verify(authorization,process.env.SECRET_KEY));cov_14wfg0kcxg.s[17]++;req.userData=decoded;cov_14wfg0kcxg.s[18]++;next();}catch(error){cov_14wfg0kcxg.s[19]++;res.cookie('userData',null);cov_14wfg0kcxg.s[20]++;res.cookie('token',null);cov_14wfg0kcxg.s[21]++;return res.status(403).send({status:403,error:'Unauthorised User!',success:'false'});}cov_14wfg0kcxg.s[22]++;return false;};var _default=(cov_14wfg0kcxg.s[23]++,verifyToken);cov_14wfg0kcxg.s[24]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlcmlmeVRva2VuLmpzIl0sIm5hbWVzIjpbImFwcCIsImRvdGVudiIsImNvbmZpZyIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwidGV4dCIsInR5cGUiLCJ2ZXJpZnlUb2tlbiIsInJlcSIsInJlcyIsIm5leHQiLCJhdXRob3JpemF0aW9uIiwiaGVhZGVycyIsImRlY29kZWQiLCJqd3QiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiU0VDUkVUX0tFWSIsInVzZXJEYXRhIiwiZXJyb3IiLCJjb29raWUiLCJzdGF0dXMiLCJzZW5kIiwic3VjY2VzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBTUEsR0FBRyxHQUFHLDBCQUFaOztBQUNBQyxtQkFBT0MsTUFBUDs7QUFFQUYsR0FBRyxDQUFDRyxHQUFKLENBQVFDLHVCQUFXQyxJQUFYLEVBQVI7QUFDQUwsR0FBRyxDQUFDRyxHQUFKLENBQVFDLHVCQUFXRSxVQUFYLENBQXNCO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQXRCLENBQVI7QUFDQVAsR0FBRyxDQUFDRyxHQUFKLENBQVFDLHVCQUFXSSxJQUFYLEVBQVI7QUFDQVIsR0FBRyxDQUFDRyxHQUFKLENBQVFDLHVCQUFXQyxJQUFYLENBQWdCO0FBQUVJLEVBQUFBLElBQUksRUFBRTtBQUFSLENBQWhCLENBQVI7O0FBR0EsSUFBTUMsV0FBVyxHQUFHLFNBQWRBLFdBQWMsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7QUFBQSxNQUM5QkMsYUFEOEIsR0FDWkgsR0FBRyxDQUFDSSxPQURRLENBQzlCRCxhQUQ4Qjs7QUFFdEMsTUFBSTtBQUNGLFFBQU1FLE9BQU8sR0FBR0MseUJBQUlDLE1BQUosQ0FBV0osYUFBWCxFQUEwQkssT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBQXRDLENBQWhCOztBQUNBVixJQUFBQSxHQUFHLENBQUNXLFFBQUosR0FBZU4sT0FBZjtBQUNBSCxJQUFBQSxJQUFJO0FBQ0wsR0FKRCxDQUlFLE9BQU9VLEtBQVAsRUFBYztBQUNkWCxJQUFBQSxHQUFHLENBQUNZLE1BQUosQ0FBVyxVQUFYLEVBQXVCLElBQXZCO0FBQ0FaLElBQUFBLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLE9BQVgsRUFBb0IsSUFBcEI7QUFDQSxXQUFPWixHQUFHLENBQUNhLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkQsTUFBQUEsTUFBTSxFQUFFLEdBRGtCO0FBRTFCRixNQUFBQSxLQUFLLEVBQUUsb0JBRm1CO0FBRzFCSSxNQUFBQSxPQUFPLEVBQUU7QUFIaUIsS0FBckIsQ0FBUDtBQUtEOztBQUNELFNBQU8sS0FBUDtBQUNELENBaEJEOztlQW1CZWpCLFciLCJzb3VyY2VSb290IjoiL2hvbWUvc2FtaS9Eb2N1bWVudHMvQXV0b01hcnQvc3JjL21pZCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnRleHQoKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbih7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7XG5cblxuY29uc3QgdmVyaWZ5VG9rZW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgeyBhdXRob3JpemF0aW9uIH0gPSByZXEuaGVhZGVycztcbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeShhdXRob3JpemF0aW9uLCBwcm9jZXNzLmVudi5TRUNSRVRfS0VZKTtcbiAgICByZXEudXNlckRhdGEgPSBkZWNvZGVkO1xuICAgIG5leHQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXMuY29va2llKCd1c2VyRGF0YScsIG51bGwpO1xuICAgIHJlcy5jb29raWUoJ3Rva2VuJywgbnVsbCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgIHN0YXR1czogNDAzLFxuICAgICAgZXJyb3I6ICdVbmF1dGhvcmlzZWQgVXNlciEnLFxuICAgICAgc3VjY2VzczogJ2ZhbHNlJyxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IHZlcmlmeVRva2VuO1xuIl19