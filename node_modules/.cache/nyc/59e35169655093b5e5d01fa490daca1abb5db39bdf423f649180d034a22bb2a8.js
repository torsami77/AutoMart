"use strict";var cov_g9vup16a6=function(){var path="/home/sami/Documents/AutoMart/src/mynodeconfig.js";var hash="5e90e8ee5dfde12d6a986e2a71c25e63b85e9fa0";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/sami/Documents/AutoMart/src/mynodeconfig.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:15},end:{line:8,column:57}},"3":{start:{line:10,column:14},end:{line:10,column:55}},"4":{start:{line:12,column:18},end:{line:12,column:64}},"5":{start:{line:14,column:20},end:{line:14,column:67}},"6":{start:{line:16,column:14},end:{line:16,column:55}},"7":{start:{line:18,column:18},end:{line:18,column:63}},"8":{start:{line:20,column:39},end:{line:20,column:95}},"9":{start:{line:22,column:10},end:{line:22,column:36}},"10":{start:{line:24,column:0},end:{line:24,column:28}},"11":{start:{line:26,column:0},end:{line:26,column:39}},"12":{start:{line:27,column:0},end:{line:29,column:4}},"13":{start:{line:30,column:0},end:{line:30,column:39}},"14":{start:{line:31,column:0},end:{line:33,column:4}},"15":{start:{line:35,column:18},end:{line:52,column:1}},"16":{start:{line:36,column:22},end:{line:36,column:33}},"17":{start:{line:38,column:2},end:{line:51,column:3}},"18":{start:{line:39,column:18},end:{line:39,column:88}},"19":{start:{line:41,column:4},end:{line:41,column:27}},"20":{start:{line:42,column:4},end:{line:42,column:11}},"21":{start:{line:44,column:4},end:{line:44,column:33}},"22":{start:{line:45,column:4},end:{line:45,column:30}},"23":{start:{line:46,column:4},end:{line:50,column:7}},"24":{start:{line:54,column:14},end:{line:58,column:2}},"25":{start:{line:56,column:4},end:{line:56,column:69}},"26":{start:{line:60,column:13},end:{line:62,column:2}},"27":{start:{line:64,column:0},end:{line:68,column:3}},"28":{start:{line:70,column:15},end:{line:74,column:1}},"29":{start:{line:75,column:0},end:{line:75,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:20,column:9},end:{line:20,column:31}},loc:{start:{line:20,column:37},end:{line:20,column:97}},line:20},"1":{name:"verifyToken",decl:{start:{line:35,column:27},end:{line:35,column:38}},loc:{start:{line:35,column:55},end:{line:52,column:1}},line:35},"2":{name:"filename",decl:{start:{line:55,column:21},end:{line:55,column:29}},loc:{start:{line:55,column:55},end:{line:57,column:3}},line:55}},branchMap:{"0":{loc:{start:{line:20,column:46},end:{line:20,column:94}},type:"cond-expr",locations:[{start:{line:20,column:70},end:{line:20,column:73}},{start:{line:20,column:76},end:{line:20,column:94}}],line:20},"1":{loc:{start:{line:20,column:46},end:{line:20,column:67}},type:"binary-expr",locations:[{start:{line:20,column:46},end:{line:20,column:49}},{start:{line:20,column:53},end:{line:20,column:67}}],line:20}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"5e90e8ee5dfde12d6a986e2a71c25e63b85e9fa0"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_g9vup16a6.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_g9vup16a6.s[1]++;exports["default"]=void 0;var _express=(cov_g9vup16a6.s[2]++,_interopRequireDefault(require("express")));var _dotenv=(cov_g9vup16a6.s[3]++,_interopRequireDefault(require("dotenv")));var _bodyParser=(cov_g9vup16a6.s[4]++,_interopRequireDefault(require("body-parser")));var _jsonwebtoken=(cov_g9vup16a6.s[5]++,_interopRequireDefault(require("jsonwebtoken")));var _multer=(cov_g9vup16a6.s[6]++,_interopRequireDefault(require("multer")));var _cloudinary=(cov_g9vup16a6.s[7]++,_interopRequireDefault(require("cloudinary")));function _interopRequireDefault(obj){cov_g9vup16a6.f[0]++;cov_g9vup16a6.s[8]++;return(cov_g9vup16a6.b[1][0]++,obj)&&(cov_g9vup16a6.b[1][1]++,obj.__esModule)?(cov_g9vup16a6.b[0][0]++,obj):(cov_g9vup16a6.b[0][1]++,{"default":obj});}var app=(cov_g9vup16a6.s[9]++,(0,_express["default"])());cov_g9vup16a6.s[10]++;_dotenv["default"].config();cov_g9vup16a6.s[11]++;app.use(_bodyParser["default"].json());cov_g9vup16a6.s[12]++;app.use(_bodyParser["default"].urlencoded({extended:false}));cov_g9vup16a6.s[13]++;app.use(_bodyParser["default"].text());cov_g9vup16a6.s[14]++;app.use(_bodyParser["default"].json({type:'application/json'}));cov_g9vup16a6.s[15]++;var verifyToken=function verifyToken(req,res,next){cov_g9vup16a6.f[1]++;var authorization=(cov_g9vup16a6.s[16]++,req.headers);cov_g9vup16a6.s[17]++;try{var decoded=(cov_g9vup16a6.s[18]++,_jsonwebtoken["default"].verify(authorization,process.env.SECRET_KEY));cov_g9vup16a6.s[19]++;req.userData=decoded;cov_g9vup16a6.s[20]++;next();}catch(error){cov_g9vup16a6.s[21]++;res.cookie('userData',null);cov_g9vup16a6.s[22]++;res.cookie('token',null);cov_g9vup16a6.s[23]++;return res.status(403).send({status:403,error:'Unauthorised User!',success:'false'});}};var storage=(cov_g9vup16a6.s[24]++,_multer["default"].diskStorage({filename:function filename(req,carImage,callback){cov_g9vup16a6.f[2]++;cov_g9vup16a6.s[25]++;callback(null,new Date().toISOString()+carImage.originalname);}}));var upload=(cov_g9vup16a6.s[26]++,(0,_multer["default"])({storage:storage}));cov_g9vup16a6.s[27]++;_cloudinary["default"].config({cloud_name:process.env.CLOUD_NAME,api_key:process.env.API_ID,api_secret:process.env.API_SECRET});var _default=(cov_g9vup16a6.s[28]++,{verifyToken:verifyToken,upload:upload,cloudinary:_cloudinary["default"]});cov_g9vup16a6.s[29]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15bm9kZWNvbmZpZy5qcyJdLCJuYW1lcyI6WyJhcHAiLCJkb3RlbnYiLCJjb25maWciLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInRleHQiLCJ0eXBlIiwidmVyaWZ5VG9rZW4iLCJyZXEiLCJyZXMiLCJuZXh0IiwiYXV0aG9yaXphdGlvbiIsImhlYWRlcnMiLCJkZWNvZGVkIiwiand0IiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIlNFQ1JFVF9LRVkiLCJ1c2VyRGF0YSIsImVycm9yIiwiY29va2llIiwic3RhdHVzIiwic2VuZCIsInN1Y2Nlc3MiLCJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJmaWxlbmFtZSIsImNhckltYWdlIiwiY2FsbGJhY2siLCJEYXRlIiwidG9JU09TdHJpbmciLCJvcmlnaW5hbG5hbWUiLCJ1cGxvYWQiLCJjbG91ZGluYXJ5IiwiY2xvdWRfbmFtZSIsIkNMT1VEX05BTUUiLCJhcGlfa2V5IiwiQVBJX0lEIiwiYXBpX3NlY3JldCIsIkFQSV9TRUNSRVQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLElBQU1BLEdBQUcsR0FBRywwQkFBWjs7QUFDQUMsbUJBQU9DLE1BQVA7O0FBRUFGLEdBQUcsQ0FBQ0csR0FBSixDQUFRQyx1QkFBV0MsSUFBWCxFQUFSO0FBQ0FMLEdBQUcsQ0FBQ0csR0FBSixDQUFRQyx1QkFBV0UsVUFBWCxDQUFzQjtBQUFFQyxFQUFBQSxRQUFRLEVBQUU7QUFBWixDQUF0QixDQUFSO0FBQ0FQLEdBQUcsQ0FBQ0csR0FBSixDQUFRQyx1QkFBV0ksSUFBWCxFQUFSO0FBQ0FSLEdBQUcsQ0FBQ0csR0FBSixDQUFRQyx1QkFBV0MsSUFBWCxDQUFnQjtBQUFFSSxFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFoQixDQUFSOztBQUdBLElBQU1DLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ3RDLE1BQU1DLGFBQWEsR0FBR0gsR0FBRyxDQUFDSSxPQUExQjs7QUFDQSxNQUFJO0FBQ0YsUUFBTUMsT0FBTyxHQUFHQyx5QkFBSUMsTUFBSixDQUFXSixhQUFYLEVBQTBCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsVUFBdEMsQ0FBaEI7O0FBQ0FWLElBQUFBLEdBQUcsQ0FBQ1csUUFBSixHQUFlTixPQUFmO0FBQ0FILElBQUFBLElBQUk7QUFDTCxHQUpELENBSUUsT0FBT1UsS0FBUCxFQUFjO0FBQ2RYLElBQUFBLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLFVBQVgsRUFBdUIsSUFBdkI7QUFDQVosSUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsT0FBWCxFQUFvQixJQUFwQjtBQUNBLFdBQU9aLEdBQUcsQ0FBQ2EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCRCxNQUFBQSxNQUFNLEVBQUUsR0FEa0I7QUFFMUJGLE1BQUFBLEtBQUssRUFBRSxvQkFGbUI7QUFHMUJJLE1BQUFBLE9BQU8sRUFBRTtBQUhpQixLQUFyQixDQUFQO0FBS0Q7QUFDRixDQWZEOztBQWlCQSxJQUFNQyxPQUFPLEdBQUdDLG1CQUFPQyxXQUFQLENBQW1CO0FBQ2pDQyxFQUFBQSxRQUFRLEVBQUUsa0JBQUNwQixHQUFELEVBQU1xQixRQUFOLEVBQWdCQyxRQUFoQixFQUE2QjtBQUNyQ0EsSUFBQUEsUUFBUSxDQUFDLElBQUQsRUFBTyxJQUFJQyxJQUFKLEdBQVdDLFdBQVgsS0FBMkJILFFBQVEsQ0FBQ0ksWUFBM0MsQ0FBUjtBQUNEO0FBSGdDLENBQW5CLENBQWhCOztBQU1BLElBQU1DLE1BQU0sR0FBRyx3QkFBTztBQUNwQlQsRUFBQUEsT0FBTyxFQUFQQTtBQURvQixDQUFQLENBQWY7O0FBSUFVLHVCQUFXcEMsTUFBWCxDQUFrQjtBQUNoQnFDLEVBQUFBLFVBQVUsRUFBRXBCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZb0IsVUFEUjtBQUVoQkMsRUFBQUEsT0FBTyxFQUFFdEIsT0FBTyxDQUFDQyxHQUFSLENBQVlzQixNQUZMO0FBR2hCQyxFQUFBQSxVQUFVLEVBQUV4QixPQUFPLENBQUNDLEdBQVIsQ0FBWXdCO0FBSFIsQ0FBbEI7O2VBTWU7QUFBRWxDLEVBQUFBLFdBQVcsRUFBWEEsV0FBRjtBQUFlMkIsRUFBQUEsTUFBTSxFQUFOQSxNQUFmO0FBQXVCQyxFQUFBQSxVQUFVLEVBQVZBO0FBQXZCLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvc2FtaS9Eb2N1bWVudHMvQXV0b01hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XG5pbXBvcnQgY2xvdWRpbmFyeSBmcm9tICdjbG91ZGluYXJ5JztcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuZG90ZW52LmNvbmZpZygpO1xuXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbmFwcC51c2UoYm9keVBhcnNlci50ZXh0KCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSkpO1xuXG5cbmNvbnN0IHZlcmlmeVRva2VuID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IGF1dGhvcml6YXRpb24gPSByZXEuaGVhZGVycztcbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeShhdXRob3JpemF0aW9uLCBwcm9jZXNzLmVudi5TRUNSRVRfS0VZKTtcbiAgICByZXEudXNlckRhdGEgPSBkZWNvZGVkO1xuICAgIG5leHQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXMuY29va2llKCd1c2VyRGF0YScsIG51bGwpO1xuICAgIHJlcy5jb29raWUoJ3Rva2VuJywgbnVsbCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgIHN0YXR1czogNDAzLFxuICAgICAgZXJyb3I6ICdVbmF1dGhvcmlzZWQgVXNlciEnLFxuICAgICAgc3VjY2VzczogJ2ZhbHNlJyxcbiAgICB9KTtcbiAgfVxufTtcblxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gIGZpbGVuYW1lOiAocmVxLCBjYXJJbWFnZSwgY2FsbGJhY2spID0+IHtcbiAgICBjYWxsYmFjayhudWxsLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgKyBjYXJJbWFnZS5vcmlnaW5hbG5hbWUpO1xuICB9LFxufSk7XG5cbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XG4gIHN0b3JhZ2UsXG59KTtcblxuY2xvdWRpbmFyeS5jb25maWcoe1xuICBjbG91ZF9uYW1lOiBwcm9jZXNzLmVudi5DTE9VRF9OQU1FLFxuICBhcGlfa2V5OiBwcm9jZXNzLmVudi5BUElfSUQsXG4gIGFwaV9zZWNyZXQ6IHByb2Nlc3MuZW52LkFQSV9TRUNSRVQsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgeyB2ZXJpZnlUb2tlbiwgdXBsb2FkLCBjbG91ZGluYXJ5IH07XG4iXX0=